{% extends 'base.html' %}

{% block title %}
    Category List
{% endblock %}

{% block content %}
<h1>Categories</h1>

<a href="{% url 'category-add' %}" class="btn btn-primary mb-3">Add Category</a>

<ul>
    {% for i in context %}
        <li>
            <h2>{{ i.name }}</h2>
            <ul>
                {% for book in i.book_set.all %}
                    <li>{{ book.title }} by {{ book.author }}</li>
                {% empty %}
                    <li>No books available in this Category.</li>
                {% endfor %}
            </ul>

            <a href="{% url 'category-edit' i.pk %}" class="btn btn-secondary">Edit</a>
        </li>
    {% empty %}
        <li>No categories available.</li>
    {% endfor %}
</ul>
{% endblock %}
